<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/sindresorhus/pageres#readme"

    >pageres (v4.4.0)</a>
</h1>
<h4>Capture website screenshots</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.pageres">module pageres</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pageres.pageres">
            function <span class="apidocSignatureSpan"></span>pageres
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pageres" id="apidoc.module.pageres">module pageres</a></h1>


    <h2>
        <a href="#apidoc.element.pageres.pageres" id="apidoc.element.pageres.pageres">
        function <span class="apidocSignatureSpan"></span>pageres
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Pageres extends _events2.default {

	constructor(options) {
		super();

		this.options = (0, _assign2.default)({}, options);
		this.options.filename = this.options.filename || &#x27;&#x3c;%= url %&#x3e;-&#x3c;%= size %&#x3e;&#x3c;%= crop %&#x3e;&#x27;;
		this.options.format = this.options.format || &#x27;png&#x27;;
		this.options.incrementalName = this.options.incrementalName || false;

		this.stats = {};
		this.items = [];
		this.sizes = [];
		this.urls = [];
		this._src = [];
	}

	src(url, sizes, options) {
		if (url === undefined) {
			return this._src;
		}

		this._src.push({ url: url, sizes: sizes, options: options });
		return this;
	}

	dest(dir) {
		if (dir === undefined) {
			return this._dest;
		}

		this._dest = dir;
		return this;
	}

	run() {
		var _this = this;

		return (0, _asyncToGenerator3.default)(function* () {
			yield _promise2.default.all(_this.src().map(function (src) {
				// eslint-disable-line array-callback-return
				const options = (0, _assign2.default)({}, _this.options, src.options);
				const sizes = (0, _arrayUniq2.default)(src.sizes.filter(/./.test, /^\d{2,4}x\d{2,4}$/i));
				const keywords = (0, _arrayDiffer2.default)(src.sizes, sizes);

				if (!src.url) {
					throw new Error(&#x27;URL required&#x27;);
				}

				_this.urls.push(src.url);

				if (sizes.length === 0 &#x26;&#x26; keywords.indexOf(&#x27;w3counter&#x27;) !== -1) {
					return _this.resolution(src.url, options);
				}

				if (keywords.length &#x3e; 0) {
					return _this.viewport({ url: src.url, sizes: sizes, keywords: keywords }, options);
				}

				for (const size of sizes) {
					_this.sizes.push(size);
					_this.items.push(_this.create(src.url, size, options));
				}
			}));

			_this.stats.urls = (0, _arrayUniq2.default)(_this.urls).length;
			_this.stats.sizes = (0, _arrayUniq2.default)(_this.sizes).length;
			_this.stats.screenshots = _this.items.length;

			if (!_this.dest()) {
				return _this.items;
			}

			yield _this.save(_this.items);

			return _this.items;
		})();
	}

	resolution(url, options) {
		var _this2 = this;

		return (0, _asyncToGenerator3.default)(function* () {
			for (const item of yield getResMem()) {
				_this2.sizes.push(item.item);
				_this2.items.push(_this2.create(url, item.item, options));
			}
		})();
	}

	viewport(obj, options) {
		var _this3 = this;

		return (0, _asyncToGenerator3.default)(function* () {
			for (const item of yield viewportListMem(obj.keywords)) {
				_this3.sizes.push(item.size);
				obj.sizes.push(item.size);
			}

			for (const size of (0, _arrayUniq2.default)(obj.sizes)) {
				_this3.items.push(_this3.create(obj.url, size, options));
			}
		})();
	}

	save(streams) {
		var _this4 = this;

		const files = [];

		const end = () =&#x3e; _promise2.default.all(files.map(file =&#x3e; (0, _pify2.default)(_rimraf2.default)(file)));

		if (!listener) {
			listener = process.on(&#x27;SIGINT&#x27;, (0, _asyncToGenerator3.default)(function* () {
				yield end();
				process.exit(1);
			}));
		}

		return _promise2.default.all(streams.map(stream =&#x3e; new _promise2.default((() =&#x3e; {
			var _ref2 = (0, _asyncToGenerator3.default)(function* (resolve, reject) {
				yield (0, _pify2.default)(_mkdirp2.default)(_this4.dest());

				const dest = _path2.default.join(_this4.dest(), stream.filename);
				const write = (0, _fsWriteStreamAtomic2.default)(dest);

				files.push(write.__atomicTmp);

				stream.on(&#x27;warning&#x27;, _this4.emit.bind(_this4, &#x27;warning&#x27;));
				stream.on(&#x27;warn&#x27;, _this4.emit.bind(_this4, &#x27;warn&#x27;));
				stream.on(&#x27;error&#x27;, (() =&#x3e; {
					var _ref3 = (0, _asyncToGenerator3.default)(function* (err) {
						yield end();
						reject(err);
					});

					return function (_x3) {
						return _ref3.apply(this, arguments);
					};
				})());

				write.on(&#x27;finish&#x27;, resolve);
				write.on(&#x27;error&#x27;, (() =&#x3e; {
					var _ref4 = (0, _asyncToGenerator3.default)(function* (err) {
						yield end();
						reject(err);
					});

					return function (_x4) {
						return _ref4.apply(this, arguments);
					};
				})());

				stream.pipe(write);
			});

			return function (_x, _x2) {
				return _ref2.apply(this, arguments);
			};
		})())));
	}

	create(uri, size, options) {
		const sizes = ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
